<!DOCTYPE html>
<html lang = "en" >
<head >
    <meta charset = "UTF-8" >
    <title >Title</title >
</head >
<body >
    <script>
        // var obj = {
        //     id: 1,
        //     name: 'andy',
        //     msg: {
        //         age: 18
        //     }
        // };
        // var o = {};
        // // for (var k in obj) {
        // //     // k 是属性名 obj[k] 属性值
        // //     o[k] = obj[k];
        // // }
        // // console.log(o);
        // // o.msg.age = 20;
        // // console.log(obj);
        //
        // Object.assign(o, obj);
        // console.log(o);
        // o.msg.age = 20;
        // console.log(obj);
        
        // 深拷贝
        var obj = {
            id: 1,
            name: 'andy',
            msg: {
                age: 18
            },
            color: ['pink', 'red']
        };
        var o = {};
        // 封装函数
        function deepCopy (newobj, oldobj) {
            for (var k in oldobj) {
                // 1.获取属性值
                var item = oldobj[k];
                // 2.判断是否是数组
                if (item instanceof Array) {
                    newobj[k] =  [];
                    deepCopy(newobj[k], item)
                } else if (item instanceof Object) {
                    // 3.判断是否是对象
                    newobj[k] = {};
                    deepCopy(newobj[k], item)
                } else {
                    // 4.属于简单数据类型
                    newobj[k] = item;
                }
            }
        }
        deepCopy(o,obj);
        console.log(o);
    </script>
</body >
</html >